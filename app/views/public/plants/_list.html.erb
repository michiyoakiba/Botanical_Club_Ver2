<div class="container">
  <div class="row">
  <% plants.each do |plant| %>
    <div class="col-ms-auto">
      <div class="card mx-1 mt-1 shadow-lg" style="width: 370px;">
      <%= link_to plant_path(plant.id) do %>
        <%= image_tag plant.get_image, class:"card-img-top img-fluid" %> 
      <% end %>
      <div class="card-body">
        <div class="row">
        <div class="col-2">
          <%= link_to user_path(plant.user) do %>
            <%= image_tag plant.user.get_profile_image(100,100), class:"mt-3 rounded-circle img-fluid" %></p>
          <% end %>
        </div>
        <div class="col-10">
          <p class="card-title">
          <strong><i class="fab fa-envira"></i><span>
            <%= link_to plant_path(plant.id), class:"text-dark" do %>
              <%= plant.plant_name %>
            <% end %> 
          </span></strong>
          </p>
          
          <p class="card-text">説明：<%= plant.caption %></p>
        
          <span><i class="fas fa-user"></i> By 
            <%= link_to user_path(plant.user), class:"text-dark" do %>
              <%= plant.user.name %>
            <% end %>
          ｜ </span>
          
          <span><%= link_to "#{plant.plant_comments.count} コメント", plant_path(plant.id) %>｜</span>
    
          <!--部分テンプレートにした箇所(部分的に更新したい箇所)-->
          <span id="favorite_buttons_<%= plant.id %>">
            <%= render "favorites/btn", plant: plant %></span>
    
    <!--% if plant.favorited_by?(current_user) %>-->
    <!--    %= link_to plant_favorites_path(plant), method: :delete do %>-->
    <!--      ♥%= plant.favorites.count %>-->
    <!--    % end %>-->
    <!--% else %>-->
    <!--    %= link_to plant_favorites_path(plant), method: :post do %>-->
    <!--      ♡%= plant.favorites.count %> -->
    <!--    % end %>-->
    <!--% end %>       -->
        
        </div>
        </div>
      </div>
      </div>
    </div>
  <% end %>
  </div>
  <div class="d-flex justify-content-center"><%= paginate plants %></div>
</div>